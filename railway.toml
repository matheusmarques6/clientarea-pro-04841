[build]
builder = "NIXPACKS"

# Force Bun as the only provider (disable Deno auto-detection)
[build.nixpacksPlan]
providers = ["bun"]

[build.nixpacksPlan.phases.install]
cmd = "bun install"

[build.nixpacksPlan.phases.build]
cmd = "bun run build"

[deploy]
startCommand = "bun run preview"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
